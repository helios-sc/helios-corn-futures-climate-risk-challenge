A. Reproducibility

The main.py script generates submission csv files for both of my submissions: the higher-scoring version which uses external data and the lower-scoring version which does not.

Put the competition data files (corn_climate_risk_futures_daily_master.csv and corn_regional_market_share.csv) in the data folder.

The download_oni3.py and download_MJOPDO.py scripts download the external data used by the higher-scoring version. In case the sources for this data become unavailable, the data files generated by these scripts are included as well.

Versions used:

Python: 3.14.0
pandas: 2.3.3
numpy: 2.4.1
requests: 2.32.5

I have also included the same code as a Jupyter notebook. This was run in the Kaggle environment (CPU-only).

B. Methodology Summary

The no external data version uses just the competition data. The external data version additionally uses the following external data:

ONI (Oceanic Niño Index): Captures El Niño/La Niña cycles.
PDO (Pacific Decadal Oscillation): Captures long-term Pacific sea surface temperatures.
MJO (Madden-Julian Oscillation): Captures intra-seasonal tropical variability affecting precipitation.

The external data is lagged to ensure future data is not used.


Since I lack domain knowledge in this area, I opted for a systematic approach. First, a large number of features (and variations of these features) are generated. Then, a greedy search is performed to see which combination of features maximizes the CFCS score. To prevent this process from choosing nearly identical features, a cap of 90% correlation between any two chosen features is strictly enforced.

Here are the top 5 features in the external data version:

1. climate_risk_EMA_climate_risk_US_Stress_x_Nina_Primed_P2.0_W500
This feature tracks the 500-day trend of severe US heat and drought stress specifically amplified by La Niña conditions from three months prior, squaring the values to highlight extreme weather events.

2. climate_risk_TURB_climate_risk_US_Stress_x_Nina_Primed_120_L60_P1.0_W500
This measures the volatility of rapid changes (turbulence) in US climate stress originally triggered by La Niña conditions four months earlier, capturing the destabilizing "aftershocks" of those climate patterns.

3. climate_risk_TURB_BR_Sum_heat_stress_L30_P2.0_W500
This captures the long-term volatility of rapid changes in heat stress affecting Brazil's summer corn crop, squaring the risk values to focus on the market impact of extreme temperature shocks.

4. climate_risk_STD_climate_risk_US_Stress_x_Nina_Primed_P2.0_W500
This quantifies the long-term variability or risk uncertainty of US heat/drought events that occur during La Niña phases, distinguishing between consistent stress and unpredictable spikes.

5. climate_risk_TURB_BR_Sum_heat_stress_L90_P2.0_W500
This tracks the turbulence of Brazil's summer heat stress with a significant 90-day lag, likely modeling the delayed market reaction to crop damage reports that emerge months after the weather event.

Here are the top 5 features in the no external data version:

1.climate_risk_STD_BR_Heat_Drought_L90_P3.0_W500
This measures the variability of extreme, combined heat and drought conditions in Brazil (cubed to isolate tail risks) with a 90-day delay to account for the lag between crop damage and harvest reporting.

2. climate_risk_TURB_BR_Sum_heat_stress_L30_P2.0_W500
This is the same as the #3 feature in the external data version.

3. climate_risk_TURB_BR_Sum_heat_stress_L7_P2.0_W450
This is a faster-reacting volatility metric for Brazil's summer heat stress, using a 450-day window to capture the "shock" of squared heat stress levels just one week after they occur.

4. climate_risk_EMA_BR_Sum_heat_stress_L30_P3.0_W500
This tracks the smoothed long-term trend of Brazil's summer heat stress, raising the risk counts to the third power to make the signal sensitive only to the most catastrophic temperature events.

5. climate_risk_EMA_BR_Sum_heat_stress_P3.0_W500
This is the unlagged version of the previous feature, tracking the immediate long-term trend of catastrophic heat stress accumulation in Brazil's summer crop.


No futures_* columns or derivatives were used to generate climate_risk_* features. Futures data was used solely as the target during the feature selection phase to calculate correlations. No futures data was used inside the feature calculations.

C. Submission Reference

Kaggle username: ezberch
Team name: Ezra

Best submission: submission_with_externale26.csv
80.47 private score / 81.15 public score

Second submission (no external data): notebookf0f49b311d - e25
77.87 private score / 81.01 public score